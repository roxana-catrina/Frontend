<div class="forgot-password-container">
  <div class="forgot-password-card shadow-lg">
    <div class="card-header text-center">
      <i class="bi bi-key-fill icon-large"></i>
      <h2 class="mt-3">Ai uitat parola?</h2>
      <p class="text-muted">Introdu adresa ta de email și vei primi un cod de verificare</p>
    </div>

    <div class="card-body">
      <!-- Alert Messages -->
      <div *ngIf="message" 
           class="alert" 
           [ngClass]="messageType === 'success' ? 'alert-success' : 'alert-danger'"
           role="alert">
        <i class="bi" [ngClass]="messageType === 'success' ? 'bi-check-circle' : 'bi-exclamation-circle'"></i>
        {{ message }}
      </div>

      <form [formGroup]="forgotPasswordForm" (ngSubmit)="sendVerificationCode()">
        <div class="mb-4">
          <label for="email" class="form-label">
            <i class="bi bi-envelope"></i> Adresa de Email
          </label>
          <input type="email" 
                 id="email" 
                 class="form-control form-control-lg" 
                 formControlName="email"
                 placeholder="exemplu@email.com"
                 [class.is-invalid]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
          
          <div *ngIf="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched" 
               class="invalid-feedback">
            <small *ngIf="forgotPasswordForm.get('email')?.errors?.['required']">
              Email-ul este obligatoriu
            </small>
            <small *ngIf="forgotPasswordForm.get('email')?.errors?.['email']">
              Format email invalid
            </small>
          </div>
        </div>

        <button type="submit" 
                class="btn btn-primary btn-lg w-100 mb-3"
                [disabled]="forgotPasswordForm.invalid || isSubmitting">
          <span *ngIf="!isSubmitting">
            <i class="bi bi-send"></i> Trimite Cod de Verificare
          </span>
          <span *ngIf="isSubmitting">
            <span class="spinner-border spinner-border-sm me-2"></span>
            Se trimite...
          </span>
        </button>

        <div class="text-center">
          <button type="button" 
                  class="btn btn-link" 
                  (click)="goToLogin()">
            <i class="bi bi-arrow-left"></i> Înapoi la Autentificare
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
